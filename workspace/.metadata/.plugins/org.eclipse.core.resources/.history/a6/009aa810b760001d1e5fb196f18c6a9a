package sw.search;
// 외부 정렬 : 쉘, 퀵, merge, heap
public class ExternalSort {

	public static void main(String[] args) {
		ExSort es = new ExSort();
		es.init();
		es.disp();
//		es.shellSort();
		es.quickSort();
	}

}

class ExSort{
	int[] num;
	void init() {	// 임의 초기값
		num = new int[] {4, 9, 3, 6, 7, 1, 5, 8, 2};
	}
	
	void disp() {	// 출력
		for(int n : num) {
			System.out.printf("%-3d", n);
		}
		System.out.println();
	}
	
	private void swap(int[] num, int left, int right) {	// swap 교환 함수
		int temp = num[left];
		num[left] = num[right];
		num[right] = temp;
	}
	
	// 쉘 정렬 : 단순삽입 정렬의 장점을 살리고 단점을 보완한 정렬
	void shellSort() {
		for(int i=num.length/2; i>0; i/=2) {	// i-way 부분 정렬
			for(int j=i; j<num.length; j++) {	
				int k;
				int temp = num[j];
				for(k=j-i; k>=0 && num[k]>num[j]; k-=i) num[k+i] = num[k];
				num[k+i] = temp;
			}
			System.out.println("----------");
			disp();
		}
	}
	
	// 퀵 정렬
	void quickSort() {
		int pl = 0;	// 왼쪽 커서
		int pr = num.length-1;	// 오른쪽 커서
		int pv = num[num.length/2];
		
		do {
			while(num[pl]<pv) pl++;
			while(num[pr]>pv) pr--;
			if(num[pl]<num[pr])
				IntSort.swap(num, pl, pr);
		}while(pl<=pr);
	}
}
